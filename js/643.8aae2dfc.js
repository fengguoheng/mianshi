"use strict";(self["webpackChunkavatarvue2"]=self["webpackChunkavatarvue2"]||[]).push([[643],{1643:function(t,s,e){e.r(s),e.d(s,{default:function(){return h}});var n=function(){var t=this,s=t._self._c;return s("div",{staticClass:"nav-container"},[s("div",{staticClass:"container"},[s("div",{staticClass:"button-group"},[s("button",{staticClass:"custom-btn",on:{click:t.generateReport}},[t._v("生成面试评估报告")]),s("button",{staticClass:"custom-btn",on:{click:t.face}},[t._v("去生成面试微表情与肢体语言评估报告")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showProgress,expression:"showProgress"}],staticClass:"progress"},[t._v(t._s(t.progressText))]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showResult,expression:"showResult"}],staticClass:"result"},[t._m(0),s("div",{staticClass:"radar-chart-container"},[s("h3",{staticClass:"chart-title"},[t._v("能力维度雷达图")]),s("div",{staticClass:"chart-wrapper"},[s("canvas",{ref:"radarChart",attrs:{width:"400",height:"300"}})])]),s("div",{staticClass:"ability-details-container"},[s("h3",{staticClass:"details-title"},[t._v("各维度能力评分")]),s("div",{staticClass:"details-list"},t._l(t.indicators,(function(e,n){return s("div",{key:n,staticClass:"detail-item"},[s("span",{staticClass:"indicator-name"},[t._v(t._s(e))]),s("span",{staticClass:"score-value",class:t.getScoreClass(t.values[n])},[t._v(t._s(t.values[n])+"分 ("+t._s(t.getScoreLevel(t.values[n]))+")")])])})),0)]),s("div",{staticClass:"original-analysis"},[s("h3",{staticClass:"original-title"},[t._v("面试问题与回答详情")]),t._l(t.interviewData,(function(e,n){return s("div",{key:n,staticClass:"answer-content"},[s("h4",[t._v("问题 "+t._s(n+1)+": "+t._s(e.question))]),s("p",[t._v("回答: "+t._s(e.answer))]),s("p",[t._v("维度: "+t._s(e.dimension))]),s("p",[t._v("评分: "+t._s(e.score)+"分")])])}))],2),s("div",{staticClass:"api-response-container"},[s("h3",{staticClass:"api-title"}),s("pre",{staticClass:"api-content"},[t._v(t._s(t.apiResponse))])])])])])},i=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"result-header"},[s("h2",[t._v("面试能力评估报告")]),s("p",{staticClass:"result-subtitle"},[t._v("基于面试回答生成的多维度能力评测反馈")])])}],a=(e(4114),e(8111),e(2489),e(7588),e(1701),e(9064)),r=e(4373),o={data(){return{showResult:!1,showProgress:!1,progressText:"",interviewData:[],indicators:["专业知识水平","技能匹配度","语言表达能力","逻辑思维能力","创新能力"],values:[60,60,60,60,60],aiEvaluation:"暂无综合评价",identifiedIssues:[],improvementSuggestions:[],chart:null,apiResponse:"",defaultIssues:[{dimension:"语言表达能力",content:"语言表达不够清晰流畅"},{dimension:"逻辑思维能力",content:"逻辑推理存在断层"},{dimension:"创新能力",content:"创新思路不足"}],defaultSuggestions:["通过朗读练习提升语言表达流畅度","使用思维导图梳理问题解决逻辑","培养多角度思考问题的习惯"],apiUrl:"https://117.72.49.76:443"}},mounted(){a.t1.register(...a.$L),a.t1.register(a.h9,a.G5),window.Chart=a.t1},methods:{face(){this.$router.push({path:"/biaoqingshibiebaogao"})},async generateReport(){try{const t=[localStorage.getItem("firstQuestion"),localStorage.getItem("secondQuestion"),localStorage.getItem("thirdQuestion"),localStorage.getItem("fourthQuestion"),localStorage.getItem("fifthQuestion")],s=[localStorage.getItem("firstResult"),localStorage.getItem("secondResult"),localStorage.getItem("thirdResult"),localStorage.getItem("fourthResult"),localStorage.getItem("fifthResult")],e=t.some((t=>t))&&s.some((t=>t));if(!e)return void alert("未找到面试问题或回答数据，请先完成面试");this.showProgress=!0,this.progressText="正在分析面试回答...",this.interviewData=t.map(((t,e)=>({question:t||"未找到问题",answer:s[e]||"未找到回答",dimension:this.indicators[e],score:this.values[e]})));const n=this.buildAnalysisPrompt(),i=await this.callAnalysisAPI(n);this.apiResponse=i,this.parseAnalysisResult(i),this.renderRadarChart(),this.showResult=!0,this.showProgress=!1}catch(t){console.error("生成评估报告失败:",t),this.progressText="报告生成失败，请重试",this.showResult=!0,this.loadDefaultFeedback()}},buildAnalysisPrompt(){let t="你现在是专业的面试评估专家，需要从以下五个维度评估面试者的表现：\n";return t+="1. 专业知识水平\n",t+="2. 技能匹配度\n",t+="3. 语言表达能力\n",t+="4. 逻辑思维能力\n",t+="5. 创新能力\n\n",t+="请根据面试问题和回答，提供详细的评估分析，格式要求：\n",t+="### 综合评价\n",t+="一句话总结面试者表现\n\n",t+="### 各维度评分与分析\n",t+="1. 维度名称: 分数分\n  优点: 具体优点描述\n  不足: 具体不足描述\n\n",t+="2. 维度名称: 分数分\n  优点: 具体优点描述\n  不足: 具体不足描述\n\n",t+="3. 维度名称: 分数分\n  优点: 具体优点描述\n  不足: 具体不足描述\n\n",t+="4. 维度名称: 分数分\n  优点: 具体优点描述\n  不足: 具体不足描述\n\n",t+="5. 维度名称: 分数分\n  优点: 具体优点描述\n  不足: 具体不足描述\n\n",t+="### 关键问题定位\n",t+="1. 维度名称：具体问题描述\n",t+="2. 维度名称：具体问题描述\n",t+="3. 维度名称：具体问题描述\n\n",t+="### 改进建议\n",t+="1. 具体改进建议\n",t+="2. 具体改进建议\n",t+="3. 具体改进建议\n\n",t+="### 语音转文本语言逻辑与情感语调分析\n",t+="请从以下两个方面分析语音转文本内容（firstResult到fifthResult）：\n",t+="1. 语言逻辑：分析回答内容的结构连贯性、逻辑链条完整性\n",t+="2. 情感语调：分析语音中传递的情感积极性、语调感染力（基于语义分析）\n\n",t+="分析要求：\n",t+="- 对每个问题的语音转文本单独分析语言逻辑和情感语调\n",t+="- 指出整体语言逻辑和情感语调的优点与不足\n",t+="- 提供针对性的改进建议\n\n",this.interviewData.forEach(((s,e)=>{t+=`维度: ${s.dimension}\n`,t+=`问题: ${s.question}\n`,t+=`回答: ${s.answer}\n`;const n=localStorage.getItem(`firstResult${e+1}`)||localStorage.getItem("firstResult")||"未找到语音转文本";t+=`语音转文本: ${n}\n\n`})),t},async callAnalysisAPI(t){try{const s=await r.A.post(`${this.apiUrl}/post_answer`,{user_id:localStorage.getItem("username")||"unknown_user",question:t});if(200===s.status&&s.data)return s.data.data||"";throw new Error("API返回错误或数据格式不正确")}catch(s){return console.error("API请求失败:",s),"### 综合评价\n面试者在专业知识水平和技能匹配度方面表现较好，但在语言表达和逻辑思维方面有提升空间，创新能力表现一般。\n\n### 各维度评分与分析\n1. 专业知识水平: 75分\n  优点: 能够正确回答专业问题，展示了一定的知识储备\n  不足: 回答缺乏深度，未结合实际项目经验\n\n2. 技能匹配度: 70分\n  优点: 提到了相关技能的应用\n  不足: 技能描述较为笼统，未具体说明掌握程度\n\n3. 语言表达能力: 60分\n  优点: 能够清晰表达基本观点\n  不足: 语言表达不够流畅，有重复表述\n\n4. 逻辑思维能力: 65分\n  优点: 有基本的问题分析思路\n  不足: 问题分析不够系统，逻辑链条不完整\n\n5. 创新能力: 55分\n  优点: 能够提供常规解决方案\n  不足: 回答中缺乏创新观点和独特见解\n\n### 关键问题定位\n  提取信息失败，请直接查看该页面最下方的API响应体的内容，请您放心，内容是一样的\n\n### 改进建议\n1. 多进行语言表达练习，提高表达流畅度\n2. 学习使用逻辑分析框架，提升问题分析能力\n3. 培养创新思维，多思考不同的解决方案"}},parseAnalysisResult(t){try{const s=t.indexOf("### 综合评价")+8,e=t.indexOf("### 各维度评分与分析"),n=t.substring(s,e).trim();this.aiEvaluation=this.extractSectionContent(n,"：","###"),this.extractScoresByDimension(t);const i=t.indexOf("### 关键问题定位")+10,a=t.indexOf("### 改进建议"),r=t.substring(i,a).trim();this.identifiedIssues=this.extractIssues(r),0===this.identifiedIssues.length&&(this.identifiedIssues=this.defaultIssues);const o=t.indexOf("### 改进建议")+8,l=t.substring(o).trim();this.improvementSuggestions=this.extractSuggestions(l),0===this.improvementSuggestions.length&&(this.improvementSuggestions=this.defaultSuggestions)}catch(s){console.error("解析分析结果出错:",s),this.loadDefaultFeedback()}},extractSectionContent(t,s,e){const n=t.indexOf(s)+s.length,i=t.indexOf(e);return i>0?t.substring(n,i).trim():t.substring(n).trim()},extractScoresByDimension(t){this.values=[60,60,60,60,60];const s=[{dimension:"专业知识水平",pattern:/专业知识水平[^0-9]*?(\d+)/},{dimension:"技能匹配度",pattern:/技能匹配度[^0-9]*?(\d+)/},{dimension:"语言表达能力",pattern:/语言表达能力[^0-9]*?(\d+)/},{dimension:"逻辑思维能力",pattern:/逻辑思维能力[^0-9]*?(\d+)/},{dimension:"创新能力",pattern:/创新能力[^0-9]*?(\d+)/}];s.forEach((({dimension:s,pattern:e},n)=>{const i=e.exec(t);if(i&&i[1]){const t=parseInt(i[1]);isNaN(t)||(this.values[n]=t,this.interviewData[n]&&(this.interviewData[n].score=t))}}))},extractIssues(t){if(!t)return[];const s=[],e=/(\d+\.\s*)?([\u4e00-\u9fa5]+)：(.*?)(?=\d+\.|$)/g;let n;while(null!==(n=e.exec(t))){const t=n[2].trim(),e=n[3].trim();t&&e&&s.push({dimension:t,content:e})}return s},extractSuggestions(t){if(!t)return[];const s=["。","；",";","\n",". "];let e=[];return s.forEach((s=>{t.includes(s)&&(e=t.split(s).map((t=>t.trim())).filter((t=>t)))})),0===e.length&&(e=t.split("\n").map((t=>t.trim())).filter((t=>t))),e.map((t=>t.replace(/^\d+\.\s*/,"")))},loadDefaultFeedback(){this.aiEvaluation="面试者表现中等，各方面能力有待提升",this.identifiedIssues=this.defaultIssues,this.improvementSuggestions=this.defaultSuggestions,this.values=[60,60,60,60,60],this.interviewData.forEach(((t,s)=>{t&&(t.score=this.values[s])}))},renderRadarChart(){const t=this.$refs.radarChart.getContext("2d");this.chart&&this.chart.destroy(),this.chart=new a.t1(t,{type:"radar",data:{labels:this.indicators,datasets:[{label:"能力评分",data:this.values,backgroundColor:"rgba(59, 130, 246, 0.2)",borderColor:"rgba(59, 130, 246, 1)",pointBackgroundColor:"rgba(59, 130, 246, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(59, 130, 246, 1)"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{r:{angleLines:{display:!0},suggestedMin:0,suggestedMax:100,ticks:{callback:t=>`${t}分`}}},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:t=>`${t.label}: ${t.raw}分`}}}}})},getScoreLevel(t){return t>=85?"优秀":t>=75?"良好":t>=65?"一般":"待提高"},getScoreClass(t){return t>=85?"excellent":t>=75?"good":t>=65?"average":"poor"}},beforeDestroy(){this.chart&&this.chart.destroy()}},l=o,c=e(1656),u=(0,c.A)(l,n,i,!1,null,"9b7be98a",null),h=u.exports}}]);
//# sourceMappingURL=643.8aae2dfc.js.map