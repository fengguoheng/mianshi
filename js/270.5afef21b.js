"use strict";(self["webpackChunkavatarvue2"]=self["webpackChunkavatarvue2"]||[]).push([[270],{1270:function(s,t,e){e.r(t),e.d(t,{default:function(){return h}});var a=function(){var s=this,t=s._self._c;return t("div",{staticClass:"nav-container"},[t("div",{staticClass:"container"},[t("div",{staticClass:"button-group"},[t("button",{staticClass:"custom-btn",on:{click:s.showRadarChart}},[s._v("查看我的笔试报告")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:s.showProgress,expression:"showProgress"}],staticClass:"progress"},[s._v(s._s(s.progressText))]),t("div",{directives:[{name:"show",rawName:"v-show",value:s.showResult,expression:"showResult"}],staticClass:"result"},[s._m(0),t("div",{staticClass:"radar-chart-container"},[t("h3",{staticClass:"chart-title"},[s._v("能力雷达图")]),t("div",{staticClass:"chart-wrapper"},[t("canvas",{ref:"radarChart",attrs:{width:"400",height:"300"}})])]),s._v(" < "),t("div",{staticClass:"original-analysis",domProps:{innerHTML:s._s(s.answerHtml)}},[t("h3",{staticClass:"original-title"},[s._v("详细分析结果")])])])])])},r=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"result-header"},[t("h2",[s._v("面试者能力评估报告")]),t("p",{staticClass:"result-subtitle"},[s._v("基于笔试答案生成的能力评测反馈")])])}],i=(e(4114),e(8111),e(2489),e(7588),e(1701),e(9064)),l={data(){return{showResult:!1,showProgress:!1,progressText:"",answerHtml:"",feedbackHtml:"",indicators:["专业知识水平","技能匹配度","语言表达能力","逻辑思维能力","创新能力"],values:[60,60,60,60,60],aiEvaluation:"暂无综合评价",chart:null,selectedCareer:"",scoreLevel:{85:"优秀",75:"良好",65:"一般",55:"待提高"},defaultIssues:["回答缺乏STAR结构（情境-任务-行动-结果）","技术术语使用不准确（如混淆卷积层与池化层功能）","眼神交流不足（模拟面试中视线频繁偏移）","回答过于笼统（未用具体数据量化成果）","岗位核心技能掌握不扎实（如Hadoop组件功能混淆）"],defaultSuggestions:["学习STAR法则，用'在XX项目中，通过XX方法，实现XX目标'结构回答","整理技术术语手册，区分易混淆概念（如CNN各层作用）","通过镜子练习或录像复盘，改善眼神交流和肢体语言","准备3个项目案例，用具体数据（如'准确率提升20%'）量化成果","针对岗位要求，完成Hadoop/Spark官方文档实操练习"]}},mounted(){i.t1.register(...i.$L),i.t1.register(i.h9,i.G5),window.Chart=i.t1,this.selectedCareer=localStorage.getItem("career")||"人工智能工程师"},methods:{tomianshi(){this.$router.push("/mianshi")},async showRadarChart(){try{const s=localStorage.getItem("question"),t=localStorage.getItem("answer");if(!s||!t)return void alert("请先完成笔试并获取评估结果");this.showProgress=!0,this.progressText="正在生成评估报告...";const e=`=== 【岗位强约束：${this.selectedCareer}】 ===\n你现在是${this.selectedCareer}岗位的专业面试官，需从以下维度评估面试者笔试表现：\n1. 专业知识水平：评估理论知识、技能掌握及项目经验的技术深度\n2. 技能匹配度：分析硬技能（如编程/工具）和软技能与岗位的契合度\n3. 语言表达能力：评估表达清晰度、术语准确性及逻辑连贯性\n4. 逻辑思维能力：评估问题解决思路和技术方案的因果关系\n5. 创新能力：评估沟通技巧、案例阐述方式及岗位适配度\n\n笔试题目及答案：\n---\n题目：${localStorage.getItem("question")}\n答案：${localStorage.getItem("answer")}\n---\n\n要求：\n1. 每个维度需指出优点与不足（如"回答缺乏STAR结构"）\n2. 改进建议需具体可操作（如"通过模拟面试训练眼神交流"）\n3. 结合岗位需求给出技术学习路径`,a=await fetch("https://117.72.49.76:443/post_answer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:"test_user",question:e})}),r=await a.json(),i=r.data||"";this.parseRadarData(i),this.answerHtml=this.parseMarkdownToHtml(i),this.generateFeedback(i),this.aiEvaluation=this.extractAIEvaluation(i),this.showResult=!0,this.showProgress=!1,this.renderRadarChart()}catch(s){console.error("生成评估报告失败:",s),this.progressText="报告生成失败，请重试",this.showResult=!0,this.feedbackHtml=this.getDefaultFeedback()}},parseRadarData(s){try{const t=s.toLowerCase();this.values[0]=this.assessScore(t,"专业知识水平",["扎实","深入理解"],["欠缺","不熟悉","混淆"]),this.values[1]=this.assessScore(t,"技能匹配度",["匹配","熟练","契合"],["不匹配","不足","缺乏"]),this.values[2]=this.assessScore(t,"语言表达能力",["清晰","准确","严谨"],["模糊","混乱","欠佳"]),this.values[3]=this.assessScore(t,"逻辑思维能力",["条理","严密","系统"],["混乱","断层","缺乏"]),this.values[4]=this.assessScore(t,"创新能力",["优秀","良好","流畅"],["不足","欠缺","待提高"])}catch(t){console.error("提取评分出错:",t)}},assessScore(s,t,e,a){const r=s.split(t)[1]||"";let i=50;return e.forEach((s=>i+=r.includes(s)?10:0)),a.forEach((s=>i-=r.includes(s)?10:0)),Math.max(0,Math.min(100,i))},renderRadarChart(){const s=this.$refs.radarChart.getContext("2d");this.chart&&this.chart.destroy(),this.chart=new i.t1(s,{type:"radar",data:{labels:this.indicators,datasets:[{label:"能力评分",data:this.values,backgroundColor:"rgba(59, 130, 246, 0.2)",borderColor:"rgba(59, 130, 246, 1)",pointBackgroundColor:"rgba(59, 130, 246, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(59, 130, 246, 1)"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{r:{angleLines:{display:!0},suggestedMin:0,suggestedMax:100,ticks:{callback:s=>`${s}分`}}},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:s=>`${s.label}: ${s.raw}分`}}}}})},parseMarkdownToHtml(s){return s?s.replace(/\*\*(.*?)\*\*/g,"<h3>$1</h3>").replace(/^\s*-\s+(.*)$/gm,"<li>$1</li>").replace(/(<li>.*?<\/li>)/gs,"<ul>$1</ul>").split("\n\n").map((s=>s.trim().startsWith("<h3>")||s.trim().startsWith("<ul>")?s:`<p>${s}</p>`)).join(""):"<p>暂无详细分析结果</p>"},generateFeedback(s){try{const t=s,e=this.extractIssues(t),a=this.extractSuggestions(t);let r='<div class="feedback-summary">';e.length>0&&(r+='<h4 class="issues-title">关键问题定位</h4>',r+='<ul class="issues-list">',e.forEach((s=>{r+=`<li><span class="issue-dimension">${s.dimension}：</span>${s.content}</li>`})),r+="</ul>"),a.length>0&&(r+='<h4 class="suggestions-title">改进建议</h4>',r+='<ul class="suggestions-list">',a.forEach((s=>{r+=`<li>${s}</li>`})),r+="</ul>"),r+="</div>",this.feedbackHtml=r}catch(t){console.error("生成反馈出错:",t),this.feedbackHtml=this.getDefaultFeedback()}},extractIssues(s){const t=/(\d+\.\s*.*?)\s*：[\s\S]*?不足|欠缺|需要改进|有待提高|不清晰/gi,e=[];let a;while(null!==(a=t.exec(s))){const r=a[1].replace(/\d+\.\s*/,"").trim(),i=s.substring(t.lastIndex-50,t.lastIndex).replace(/.*?：/,"").replace(/不足|欠缺|需要改进|有待提高|不清晰/,"").trim();e.push({dimension:r,content:i})}return 0===e.length?[{dimension:"创新能力",content:this.defaultIssues[0]},{dimension:"专业知识水平",content:this.defaultIssues[1]}]:e},extractSuggestions(s){const t=/改进建议[\s\S]*?：([\s\S]*?)(?=\d+\.|\Z)/,e=t.exec(s);return e?e[1].split("；").map((s=>s.trim())).filter((s=>s)):this.defaultSuggestions.slice(0,3)},getDefaultFeedback(){return`\n                <div class="feedback-summary">\n                    <h4 class="issues-title">关键问题定位</h4>\n                    <ul class="issues-list">\n                        <li><span class="issue-dimension">创新能力：</span>${this.defaultIssues[0]}</li>\n                        <li><span class="issue-dimension">专业知识水平：</span>${this.defaultIssues[1]}</li>\n                    </ul>\n                    <h4 class="suggestions-title">改进建议</h4>\n                    <ul class="suggestions-list">\n                        <li>${this.defaultSuggestions[0]}</li>\n                        <li>${this.defaultSuggestions[1]}</li>\n                        <li>${this.defaultSuggestions[2]}</li>\n                    </ul>\n                </div>\n            `},extractAIEvaluation(s){const t=/综合评价[\s\S]*?：([\s\S]*?)(?=改进建议|$)/,e=t.exec(s);return e?e[1].trim():"面试者在专业知识和创新能力上有提升空间，需强化核心技能和表达能力。"},getScoreLevel(s){return s>=80?"优秀":s>=70?"良好":s>=60?"一般":"待提高"},getScoreClass(s){return s>=80?"excellent":s>=70?"good":s>=60?"average":"poor"}},beforeDestroy(){this.chart&&this.chart.destroy()}},n=l,o=e(1656),c=(0,o.A)(n,a,r,!1,null,"bcfc95cc",null),h=c.exports}}]);
//# sourceMappingURL=270.5afef21b.js.map