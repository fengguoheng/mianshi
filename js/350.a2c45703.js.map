{"version":3,"file":"js/350.a2c45703.js","mappings":"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","sources":["webpack://avatarvue2/./src/views/进行简历分析.vue","webpack://avatarvue2/src/views/进行简历分析.vue","webpack://avatarvue2/./src/views/进行简历分析.vue?cbf2","webpack://avatarvue2/./src/views/进行简历分析.vue?fdd8"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"nav-container\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"button-group\"},[_c('button',{staticClass:\"custom-btn\",on:{\"click\":_vm.jumpToTest}},[_vm._v(\"笔试演练\")])]),_c('div',{staticClass:\"image-upload\"},[_c('input',{ref:\"imageInput\",attrs:{\"id\":\"customFileInput\",\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.previewImage}}),_c('button',{attrs:{\"id\":\"submitBtn\",\"disabled\":_vm.isUploading},on:{\"click\":_vm.handleUpload}},[_vm._v(\" \"+_vm._s(_vm.isUploading ? '分析中...' : '简历分析')+\" \")])]),(_vm.previewUrl)?_c('div',{staticClass:\"image-preview\"},[_c('h3',{staticClass:\"preview-title\"},[_vm._v(\"简历图片预览\")]),_c('div',{staticClass:\"preview-container\"},[_c('img',{staticClass:\"preview-image\",attrs:{\"src\":_vm.previewUrl,\"alt\":\"上传的简历图片\"}})])]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showProgress),expression:\"showProgress\"}],staticClass:\"progress\"},[_vm._v(_vm._s(_vm.progressText))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showResult),expression:\"showResult\"}],staticClass:\"result\",domProps:{\"innerHTML\":_vm._s(_vm.answerHtml)}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"nav-container\">\r\n    \r\n    <div class=\"container\">\r\n      <div class=\"button-group\">\r\n        <button @click=\"jumpToTest\" class=\"custom-btn\">笔试演练</button>\r\n      </div>\r\n      \r\n      <div class=\"image-upload\">\r\n        <!-- 自定义文件选择标签，显示\"请从本地上传您的简历\" -->\r\n      \r\n        <input id=\"customFileInput\" type=\"file\" ref=\"imageInput\" accept=\"image/*\" @change=\"previewImage\">\r\n        <button @click=\"handleUpload\" id=\"submitBtn\" :disabled=\"isUploading\">\r\n          {{ isUploading ? '分析中...' : '简历分析' }}\r\n        </button>\r\n      </div>\r\n      \r\n      <!-- 图片预览区域 -->\r\n      <div v-if=\"previewUrl\" class=\"image-preview\">\r\n        <h3 class=\"preview-title\">简历图片预览</h3>\r\n        <div class=\"preview-container\">\r\n          <img :src=\"previewUrl\" alt=\"上传的简历图片\" class=\"preview-image\">\r\n        </div>\r\n      </div>\r\n      \r\n      <div v-show=\"showProgress\" class=\"progress\">{{ progressText }}</div>\r\n      <div v-html=\"answerHtml\" class=\"result\" v-show=\"showResult\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      activeIndex: 'interview',\r\n      username: localStorage.getItem('username') || '用户',\r\n      isUploading: false,\r\n      showProgress: false,\r\n      showResult: false,\r\n      progressText: '',\r\n      answerContent: '',\r\n      answerHtml: '',\r\n      previewUrl: '' // 存储图片预览URL\r\n    }\r\n  },\r\n  methods: {\r\n    handleSelect(index) {\r\n      this.activeIndex = index;\r\n      console.log('当前选中：', index);\r\n      if (index === 'home') {\r\n        // 跳转逻辑\r\n      } else if (index === 'exit') {\r\n        localStorage.removeItem('token');\r\n        // 跳转逻辑\r\n      }\r\n    },\r\n    // 图片预览函数\r\n    previewImage(e) {\r\n      const file = e.target.files[0];\r\n      if (file) {\r\n        // 检查是否为图片文件\r\n        if (!file.type.match('image.*')) {\r\n          alert('请选择图片文件');\r\n          return;\r\n        }\r\n        \r\n        // 创建图片预览URL\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          this.previewUrl = e.target.result;\r\n        }\r\n        reader.readAsDataURL(file);\r\n      }\r\n    },\r\n    async handleUpload() {\r\n      const file = this.$refs.imageInput.files[0];\r\n      if (file) {\r\n        alert('请选择图片');\r\n        return;\r\n      }\r\n\r\n      this.isUploading = true;\r\n      this.showProgress = true;\r\n      this.progressText = '正在分析简历，请稍候...';\r\n\r\n      try {\r\n        this.$router.push('/jianlijieguo');\r\n        const imageBase64 = await this.convertFileToBase64(file);\r\n        const question = '生成10道人工智能技术岗面试选择题，题目不要针对简历内容，而是针对人工智能技术岗';\r\n        \r\n        // 发送分析请求\r\n        const analysisResponse = await fetch('https://117.72.49.76:443/image-understanding', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json', 'ngrok-skip-browser-warning': '69420' },\r\n          body: JSON.stringify({ image_base64: imageBase64, question: question })\r\n        });\r\n        \r\n        const data = await analysisResponse.json();\r\n        \r\n        if (data.status === 'processing') {\r\n          await this.pollResult(data.request_id);\r\n        }\r\n      } catch (error) {\r\n        console.error('上传失败:', error);\r\n        this.progressText = '网络错误：' + error.message;\r\n      } finally {\r\n        this.isUploading = false;\r\n        this.showProgress = false;\r\n      }\r\n    },\r\n\r\n    async pollResult(requestId) {\r\n      try {\r\n        while (true) {\r\n          const resultResponse = await fetch(`https://117.72.49.76:443/get-result/${requestId}`);\r\n          const result = await resultResponse.json();\r\n\r\n          if (result.status === 'completed') {\r\n            this.answerContent = result.content || '暂无结果';\r\n            this.answerHtml = this.parseMarkdownToHtml(this.answerContent);\r\n            this.showResult = true;\r\n            \r\n            // 存储题目到localStorage\r\n            localStorage.setItem('question', this.answerContent);\r\n            this.jumpToTest();\r\n            return;\r\n          } else if (result.status === 'failed') {\r\n            this.answerHtml = '分析失败：' + (result.error || '未知错误');\r\n            this.showResult = true;\r\n            return;\r\n          }\r\n          \r\n          await new Promise(resolve => setTimeout(resolve, 3000));\r\n          this.progressText = '分析中，请稍候...';\r\n        }\r\n      } catch (error) {\r\n        console.error('轮询失败:', error);\r\n        this.answerHtml = '网络错误：' + error.message;\r\n        this.showResult = true;\r\n      }\r\n    },\r\n\r\n    convertFileToBase64(file) {\r\n      return new Promise((resolve, reject) => {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => resolve(e.target.result.split(',')[1]);\r\n        reader.onerror = (error) => reject(error);\r\n        reader.readAsDataURL(file);\r\n      });\r\n    },\r\n\r\n    parseMarkdownToHtml(markdown) {\r\n      if (!markdown) return '';\r\n      \r\n      let html = markdown\r\n        .replace(/\\*\\*(.*?)\\*\\*/g, '<h3>$1</h3>')\r\n        .replace(/^\\s*-\\s+(.*)$/gm, '<li>$1</li>')\r\n        .replace(/(<li>.*?<\\/li>)/gs, '<ul>$1</ul>')\r\n        .split('\\n\\n').map(paragraph => {\r\n          if (paragraph.trim().startsWith('<h3>') || paragraph.trim().startsWith('<ul>')) {\r\n            return paragraph;\r\n          }\r\n          return `<p>${paragraph.trim()}</p>`;\r\n        }).join('');\r\n        \r\n      return `<div class=\"answer-content\"><h2>面试者能力评估</h2>${html}</div>`;\r\n    },\r\n\r\n    jumpToTest() {\r\n      this.$router.push('/tijiaojianlishengchengwenti');\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* 导航栏样式 */\r\n.nav-container {\r\n  background: #e3e9f3;\r\n  padding: 15px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.header-section {\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.title {\r\n  font-size: 28px;\r\n  color: #4CAF50;\r\n  margin: 0;\r\n  font-weight: 600;\r\n}\r\n\r\n.designer {\r\n  font-size: 14px;\r\n  color: #6c757d;\r\n  margin-top: 5px;\r\n  display: block;\r\n}\r\n\r\n.nav-menu {\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 12px;\r\n  margin-bottom: 20px;\r\n  border-bottom: 1px solid #ddd;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.nav-item {\r\n  padding: 12px 22px;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  color: #333;\r\n  text-decoration: none;\r\n  transition: all 0.3s ease;\r\n  background: #f5f7fa;\r\n}\r\n\r\n.nav-item.active {\r\n  background: #409eff;\r\n  color: white;\r\n}\r\n\r\n.nav-item:hover:not(.active) {\r\n  background: #e6f7ff;\r\n}\r\n\r\n/* 容器样式 */\r\n.container {\r\n  padding: 40px 20px;\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  background: #f8fafc;\r\n  border-radius: 16px;\r\n  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05), 0 8px 10px -6px rgba(0, 0, 0, 0.02);\r\n  animation: fadeIn 0.5s ease-out;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from { opacity: 0; transform: translateY(10px); }\r\n  to { opacity: 1; transform: translateY(0); }\r\n}\r\n\r\n/* 按钮样式 */\r\n.button-group {\r\n  margin-bottom: 25px;\r\n  text-align: center;\r\n}\r\n\r\n.custom-btn {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 10px 20px;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  color: white;\r\n  background: #3b82f6;\r\n}\r\n\r\n.custom-btn:hover {\r\n  background: #2563eb;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n#submitBtn {\r\n  padding: 10px 20px;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  color: white;\r\n  background: #10b981;\r\n}\r\n\r\n#submitBtn:hover {\r\n  background: #059669;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n#submitBtn:disabled {\r\n  opacity: 0.6;\r\n  cursor: not-allowed;\r\n  transform: none;\r\n}\r\n\r\n/* 上传区域样式 */\r\n.image-upload {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 10px;\r\n  margin: 20px 0;\r\n}\r\n\r\n/* 自定义文件选择标签样式 */\r\n.file-label {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 10px 20px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n  background: #f8fafc;\r\n  color: #334155;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.file-label:hover {\r\n  background: #e2e8f0;\r\n}\r\n\r\n/* 隐藏原生文件输入框 */\r\ninput[type=\"file\"] {\r\n  display: none;\r\n}\r\n\r\n/* 图片预览区域样式 */\r\n.image-preview {\r\n  margin: 30px 0;\r\n  padding: 20px;\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.preview-title {\r\n  text-align: center;\r\n  color: #334155;\r\n  margin-bottom: 15px;\r\n  font-size: 16px;\r\n}\r\n\r\n.preview-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  overflow: hidden;\r\n  border-radius: 8px;\r\n  max-width: 100%;\r\n  height: 300px; /* 固定预览高度 */\r\n  background: #f8fafc;\r\n}\r\n\r\n.preview-image {\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n  object-fit: contain; /* 保持图片比例 */\r\n}\r\n\r\n/* 进度条 */\r\n.progress {\r\n  text-align: center;\r\n  margin: 20px 0;\r\n  font-size: 14px;\r\n  color: #64748b;\r\n}\r\n\r\n/* 结果区域 */\r\n.result {\r\n  background: #fff;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);\r\n  margin-top: 20px;\r\n}\r\n\r\n.answer-content h2 {\r\n  color: #1e293b;\r\n  margin-bottom: 20px;\r\n  text-align: center;\r\n  font-size: 18px;\r\n}\r\n\r\n.answer-content p {\r\n  margin-bottom: 15px;\r\n  font-size: 15px;\r\n  color: #334155;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .nav-menu {\r\n    flex-wrap: wrap;\r\n  }\r\n  \r\n  .nav-item {\r\n    padding: 8px 12px;\r\n    font-size: 14px;\r\n  }\r\n  \r\n  .container {\r\n    padding: 25px 15px;\r\n    border-radius: 10px;\r\n  }\r\n  \r\n  .preview-container {\r\n    height: 200px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./进行简历分析.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./进行简历分析.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./进行简历分析.vue?vue&type=template&id=40721f56&scoped=true\"\nimport script from \"./进行简历分析.vue?vue&type=script&lang=js\"\nexport * from \"./进行简历分析.vue?vue&type=script&lang=js\"\nimport style0 from \"./进行简历分析.vue?vue&type=style&index=0&id=40721f56&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40721f56\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","on","jumpToTest","_v","ref","attrs","previewImage","isUploading","handleUpload","_s","previewUrl","_e","directives","name","rawName","value","showProgress","expression","progressText","showResult","domProps","answerHtml","staticRenderFns","data","activeIndex","username","localStorage","getItem","answerContent","methods","handleSelect","index","console","log","removeItem","e","file","target","files","type","match","alert","reader","FileReader","onload","result","readAsDataURL","$refs","imageInput","$router","push","imageBase64","convertFileToBase64","question","analysisResponse","fetch","method","headers","body","JSON","stringify","image_base64","json","status","pollResult","request_id","error","message","requestId","resultResponse","content","parseMarkdownToHtml","setItem","Promise","resolve","setTimeout","reject","split","onerror","markdown","html","replace","map","paragraph","trim","startsWith","join","component"],"sourceRoot":""}