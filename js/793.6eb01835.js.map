{"version":3,"file":"js/793.6eb01835.js","mappings":"gKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,iEAAiE,CAACF,EAAG,MAAM,CAACE,YAAY,qDAAqD,CAACF,EAAG,KAAK,CAACE,YAAY,qDAAqD,CAACJ,EAAIK,GAAG,UAAUH,EAAG,OAAO,CAACI,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBR,EAAIS,aAAaC,MAAM,KAAMC,UAAU,IAAI,CAACT,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACE,YAAY,gDAAgD,CAACJ,EAAIK,GAAG,SAASH,EAAG,MAAM,CAACE,YAAY,YAAY,CAACJ,EAAIY,GAAG,GAAGV,EAAG,QAAQ,CAACW,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOhB,EAAIiB,SAAUC,WAAW,aAAad,YAAY,wDAAwDe,MAAM,CACnvB,oCAAqCnB,EAAIoB,OAAOH,SAChD,uCAAwCjB,EAAIoB,OAAOH,UACrDI,MAAM,CAAC,KAAO,OAAO,GAAK,WAAW,KAAO,WAAW,SAAW,IAAIC,SAAS,CAAC,MAAStB,EAAIiB,UAAWX,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOgB,OAAOC,YAAiBxB,EAAIiB,SAASV,EAAOgB,OAAOP,MAAK,OAAQhB,EAAIoB,OAAOH,SAAUf,EAAG,IAAI,CAACE,YAAY,6BAA6B,CAACJ,EAAIK,GAAGL,EAAIyB,GAAGzB,EAAIoB,OAAOH,aAAajB,EAAI0B,OAAOxB,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACE,YAAY,gDAAgD,CAACJ,EAAIK,GAAG,QAAQH,EAAG,MAAM,CAACE,YAAY,YAAY,CAACJ,EAAIY,GAAG,GAAGV,EAAG,QAAQ,CAACW,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOhB,EAAI2B,SAAUT,WAAW,aAAad,YAAY,wDAAwDe,MAAM,CACxpB,oCAAqCnB,EAAIoB,OAAOO,SAChD,uCAAwC3B,EAAIoB,OAAOO,UACrDN,MAAM,CAAC,KAAO,WAAW,GAAK,WAAW,KAAO,WAAW,SAAW,IAAIC,SAAS,CAAC,MAAStB,EAAI2B,UAAWrB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOgB,OAAOC,YAAiBxB,EAAI2B,SAASpB,EAAOgB,OAAOP,MAAK,OAAQhB,EAAIoB,OAAOO,SAAUzB,EAAG,IAAI,CAACE,YAAY,6BAA6B,CAACJ,EAAIK,GAAGL,EAAIyB,GAAGzB,EAAIoB,OAAOO,aAAa3B,EAAI0B,OAAOxB,EAAG,SAAS,CAACE,YAAY,0FAA0FiB,MAAM,CAAC,KAAO,SAAS,SAAWrB,EAAI4B,YAAY,CAAC5B,EAAIK,GAAG,IAAIL,EAAIyB,GAAGzB,EAAI4B,UAAY,SAAW,MAAM,OAAO1B,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACF,EAAG,OAAO,CAACE,YAAY,iBAAiB,CAACJ,EAAIK,GAAG,WAAWH,EAAG,cAAc,CAACE,YAAY,mEAAmEiB,MAAM,CAAC,GAAK,cAAc,CAACrB,EAAIK,GAAG,cAAc,KAAKH,EAAG,MAAM,CAACW,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOhB,EAAI6B,QAASX,WAAW,YAAYY,IAAI,UAAU1B,YAAY,sBAAsBe,MAAMnB,EAAI+B,cAAc,CAAC/B,EAAIK,GAAG,IAAIL,EAAIyB,GAAGzB,EAAI6B,SAAS,YAC5gC,EACIG,EAAkB,CAAC,WAAY,IAAIhC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,OAAO,CAACE,YAAY,kEAAkE,CAACF,EAAG,IAAI,CAACE,YAAY,gBACrL,EAAE,WAAY,IAAIJ,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,OAAO,CAACE,YAAY,kEAAkE,CAACF,EAAG,IAAI,CAACE,YAAY,gBAChK,GCsDA,G,wBAAA,CACA6B,IAAAA,GACA,OACAhB,SAAA,GACAU,SAAA,GACAE,QAAA,GACAE,aAAA,GACAX,OAAA,CACAH,UAAA,EACAU,UAAA,GAEAC,WAAA,EAEA,EAEAM,OAAAA,GAGA,EAGAC,QAAA,CACA,kBAAA1B,GAGA,GADA,KAAA2B,gBACAC,OAAAC,OAAA,KAAAlB,QAAAmB,MAAAC,GAAAA,IAAA,CAEA,KAAAZ,WAAA,EACA,KAAAC,QAAA,GAEA,IACA,MAAAY,QAAAC,MAAA,8DACAC,OAAA,OACAC,QAAA,oCACAC,KAAAC,KAAAC,UAAA,CAAA9B,SAAA,KAAAA,SAAAU,SAAA,KAAAA,aAGAM,QAAAQ,EAAAO,OAEAf,EAAAgB,SACA,KAAAlB,aAAA,8BACA,KAAAF,QAAA,eAGAqB,aAAAC,QAAA,QAAAlB,EAAAmB,OAGAC,YAAA,KAEA,KAAAC,QAAAC,KAAA,CAAAzC,KAAA,aAEA,OAEA,KAAAiB,aAAA,0BACA,KAAAF,QAAAI,EAAAJ,SAAA,OAEA,OAAAW,GACA,KAAAT,aAAA,0BACA,KAAAF,QAAA,UACA,SACA,KAAAD,WAAA,CACA,CApCA,CAqCA,EAEAQ,YAAAA,GACA,KAAAhB,OAAAH,UAAA,KAAAA,SAAAuC,OACA,KAAApC,OAAAO,UAAA,KAAAA,SAAA6B,MACA,KCnIiP,I,UCQ7OC,GAAY,OACd,EACA1D,EACAiC,GACA,EACA,KACA,WACA,MAIF,EAAeyB,EAAiB,O","sources":["webpack://avatarvue2/./src/views/登录.vue","webpack://avatarvue2/src/views/登录.vue","webpack://avatarvue2/./src/views/登录.vue?f826","webpack://avatarvue2/./src/views/登录.vue?d3bb"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"bg-gray-100 min-h-screen flex items-center justify-center p-4\"},[_c('div',{staticClass:\"bg-white p-8 rounded-xl shadow-lg w-full max-w-md\"},[_c('h2',{staticClass:\"text-2xl font-bold text-center mb-6 text-gray-800\"},[_vm._v(\"用户登录\")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"mb-4\"},[_c('label',{staticClass:\"block text-sm font-medium text-gray-700 mb-1\"},[_vm._v(\"用户名\")]),_c('div',{staticClass:\"relative\"},[_vm._m(0),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],staticClass:\"w-full pl-10 pr-4 py-2 rounded-lg border outline-none\",class:{\n                        'border-primary focus:ring-primary': _vm.errors.username,\n                        'border-gray-300 focus:ring-gray-300': !_vm.errors.username\n                    },attrs:{\"type\":\"text\",\"id\":\"username\",\"name\":\"username\",\"required\":\"\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing)return;_vm.username=$event.target.value}}})]),(_vm.errors.username)?_c('p',{staticClass:\"text-red-500 text-sm mt-1\"},[_vm._v(_vm._s(_vm.errors.username))]):_vm._e()]),_c('div',{staticClass:\"mb-6\"},[_c('label',{staticClass:\"block text-sm font-medium text-gray-700 mb-1\"},[_vm._v(\"密码\")]),_c('div',{staticClass:\"relative\"},[_vm._m(1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"w-full pl-10 pr-4 py-2 rounded-lg border outline-none\",class:{\n                        'border-primary focus:ring-primary': _vm.errors.password,\n                        'border-gray-300 focus:ring-gray-300': !_vm.errors.password\n                    },attrs:{\"type\":\"password\",\"id\":\"password\",\"name\":\"password\",\"required\":\"\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.password=$event.target.value}}})]),(_vm.errors.password)?_c('p',{staticClass:\"text-red-500 text-sm mt-1\"},[_vm._v(_vm._s(_vm.errors.password))]):_vm._e()]),_c('button',{staticClass:\"w-full bg-primary text-white py-2 px-4 rounded-lg hover:bg-primary/90 transition-colors\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isLoading}},[_vm._v(\" \"+_vm._s(_vm.isLoading ? '登录中...' : '登录')+\" \")]),_c('div',{staticClass:\"mt-4 text-sm text-center\"},[_c('span',{staticClass:\"text-gray-600\"},[_vm._v(\" 没有账号？ \"),_c('router-link',{staticClass:\"text-primary font-medium hover:text-primary/80 transition-colors\",attrs:{\"to\":\"/register\"}},[_vm._v(\" 现在去注册 \")])],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.message),expression:\"message\"}],ref:\"message\",staticClass:\"mt-4 p-3 rounded-lg\",class:_vm.messageClass},[_vm._v(\" \"+_vm._s(_vm.message)+\" \")])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500\"},[_c('i',{staticClass:\"fa fa-user\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500\"},[_c('i',{staticClass:\"fa fa-lock\"})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"bg-gray-100 min-h-screen flex items-center justify-center p-4\">\r\n        <div class=\"bg-white p-8 rounded-xl shadow-lg w-full max-w-md\">\r\n            <h2 class=\"text-2xl font-bold text-center mb-6 text-gray-800\">用户登录</h2>\r\n\r\n            <form @submit.prevent=\"handleSubmit\">\r\n                <!-- 用户名输入框 -->\r\n                <div class=\"mb-4\">\r\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">用户名</label>\r\n                    <div class=\"relative\">\r\n                        <span class=\"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500\">\r\n                            <i class=\"fa fa-user\"></i>\r\n                        </span>\r\n                        <input type=\"text\" id=\"username\" name=\"username\" v-model=\"username\" :class=\"{\r\n                            'border-primary focus:ring-primary': errors.username,\r\n                            'border-gray-300 focus:ring-gray-300': !errors.username\r\n                        }\" required class=\"w-full pl-10 pr-4 py-2 rounded-lg border outline-none\">\r\n                    </div>\r\n                    <p v-if=\"errors.username\" class=\"text-red-500 text-sm mt-1\">{{ errors.username }}</p>\r\n                </div>\r\n\r\n                <!-- 密码输入框 -->\r\n                <div class=\"mb-6\">\r\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">密码</label>\r\n                    <div class=\"relative\">\r\n                        <span class=\"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500\">\r\n                            <i class=\"fa fa-lock\"></i>\r\n                        </span>\r\n                        <input type=\"password\" id=\"password\" name=\"password\" v-model=\"password\" :class=\"{\r\n                            'border-primary focus:ring-primary': errors.password,\r\n                            'border-gray-300 focus:ring-gray-300': !errors.password\r\n                        }\" required class=\"w-full pl-10 pr-4 py-2 rounded-lg border outline-none\">\r\n                    </div>\r\n                    <p v-if=\"errors.password\" class=\"text-red-500 text-sm mt-1\">{{ errors.password }}</p>\r\n                </div>\r\n\r\n                <!-- 登录按钮 -->\r\n                <button type=\"submit\"\r\n                    class=\"w-full bg-primary text-white py-2 px-4 rounded-lg hover:bg-primary/90 transition-colors\"\r\n                    :disabled=\"isLoading\">\r\n                    {{ isLoading ? '登录中...' : '登录' }}\r\n                </button>\r\n\r\n                <!-- 注册链接 -->\r\n                <div class=\"mt-4 text-sm text-center\">\r\n                    <span class=\"text-gray-600\">\r\n                        没有账号？\r\n                        <router-link to=\"/register\"\r\n                            class=\"text-primary font-medium hover:text-primary/80 transition-colors\">\r\n                            现在去注册\r\n                        </router-link>\r\n                    </span>\r\n                </div>\r\n\r\n                <!-- 消息提示 -->\r\n                <div ref=\"message\" class=\"mt-4 p-3 rounded-lg\" :class=\"messageClass\" v-show=\"message\">\r\n                    {{ message }}\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            username: '',\r\n            password: '',\r\n            message: '',\r\n            messageClass: '',\r\n            errors: {\r\n                username: false,\r\n                password: false\r\n            },\r\n            isLoading: false\r\n        };\r\n    },\r\n\r\n    mounted() {\r\n        // 如果需要在组件挂载后操作DOM，可以在这里进行\r\n        // 例如：this.$refs.message.addEventListener(...)\r\n        // 但在这个组件中，我们已经使用了Vue的事件系统，不需要这样做\r\n    },\r\n\r\n    methods: {\r\n        async handleSubmit() {\r\n            // 表单验证\r\n            this.validateForm();\r\n            if (Object.values(this.errors).some(error => error)) return;\r\n\r\n            this.isLoading = true;\r\n            this.message = '';\r\n\r\n            try {\r\n                const response = await fetch('https://tender-secure-bluegill.ngrok-free.app/api/sqlLogin', {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({ username: this.username, password: this.password })\r\n                });\r\n\r\n                const data = await response.json();\r\n\r\n                if (data.success) {\r\n                    this.messageClass = 'bg-green-100 text-green-800';\r\n                    this.message = '登录成功！正在跳转...';\r\n\r\n                    // 存储 token 到 localStorage\r\n                    localStorage.setItem('token', data.token);\r\n\r\n                    // 跳转页面\r\n                    setTimeout(() => {\r\n                        // 使用命名路由或路径\r\n                        this.$router.push({ name: '进行简历分析' }); // 推荐使用命名路由\r\n                        // 或者使用路径: this.$router.push('/resume-analysis');\r\n                    }, 1000);\r\n                } else {\r\n                    this.messageClass = 'bg-red-100 text-red-800';\r\n                    this.message = data.message || '登录失败';\r\n                }\r\n            } catch (error) {\r\n                this.messageClass = 'bg-red-100 text-red-800';\r\n                this.message = '网络错误，请重试';\r\n            } finally {\r\n                this.isLoading = false;\r\n            }\r\n        },\r\n\r\n        validateForm() {\r\n            this.errors.username = !this.username.trim();\r\n            this.errors.password = !this.password.trim();\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 保留 Tailwind 样式，需确保项目已安装 Tailwind CSS */\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./登录.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./登录.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./登录.vue?vue&type=template&id=22a1f1f8&scoped=true\"\nimport script from \"./登录.vue?vue&type=script&lang=js\"\nexport * from \"./登录.vue?vue&type=script&lang=js\"\nimport style0 from \"./登录.vue?vue&type=style&index=0&id=22a1f1f8&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22a1f1f8\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","on","$event","preventDefault","handleSubmit","apply","arguments","_m","directives","name","rawName","value","username","expression","class","errors","attrs","domProps","target","composing","_s","_e","password","isLoading","message","ref","messageClass","staticRenderFns","data","mounted","methods","validateForm","Object","values","some","error","response","fetch","method","headers","body","JSON","stringify","json","success","localStorage","setItem","token","setTimeout","$router","push","trim","component"],"sourceRoot":""}